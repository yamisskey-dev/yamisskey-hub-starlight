---
title: yamisskeyé–‹ç™ºã‚¬ã‚¤ãƒ‰
description: Misskeyãƒ•ã‚©ãƒ¼ã‚¯yamisskeyã«ãŠã‘ã‚‹ãƒ–ãƒ©ãƒ³ãƒç®¡ç†ã‹ã‚‰ãƒªãƒªãƒ¼ã‚¹ã¾ã§ã®åŒ…æ‹¬çš„ãªé–‹ç™ºè€…ã‚¬ã‚¤ãƒ‰
---

![yamisskeyãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¢ã‚¤ã‚³ãƒ³](https://github.com/yamisskey-dev/yamisskey-assets/blob/main/yamisskey/yamisskey_project.png?raw=true)

## æ¦‚è¦

ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€[Misskey](https://github.com/misskey-dev/misskey)ãƒ•ã‚©ãƒ¼ã‚¯ã€Œ[yamisskey](https://github.com/yamisskey-dev/yamisskey/)ã€ã®é–‹ç™ºæ‰‹é †ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚åŸºæœ¬çš„ãªé–‹ç™ºæ‰‹é †ã¯[ãƒ•ã‚©ãƒ¼ã‚¯å…ƒã®é–‹ç™ºã‚¬ã‚¤ãƒ‰](https://github.com/misskey-dev/misskey/blob/develop/CONTRIBUTING.md#development)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

æœ¬ç•ªç’°å¢ƒï¼ˆ[master](https://github.com/yamisskey-dev/yamisskey/tree/master)ï¼‰ã€ãƒ†ã‚¹ãƒˆç’°å¢ƒï¼ˆ[nayami](https://github.com/yamisskey-dev/yamisskey/tree/nayami)ï¼‰ã€é–‹ç™ºç’°å¢ƒï¼ˆ[muyami](https://github.com/yamisskey-dev/yamisskey/tree/muyami)ï¼‰ã®3ã¤ã®ãƒ–ãƒ©ãƒ³ãƒã‚’ä½¿ç”¨ã—ãŸé–‹ç™ºãƒ•ãƒ­ãƒ¼ã¨ã€ã‚¢ãƒƒãƒ—ã‚¹ãƒˆãƒªãƒ¼ãƒ ï¼ˆ[Misskeyæœ¬ä½“](https://github.com/misskey-dev/misskey/tree/master)ï¼‰ã‹ã‚‰ã®å¤‰æ›´å–ã‚Šè¾¼ã¿æ‰‹é †ã‚’è§£èª¬ã—ã¾ã™ã€‚

## ãƒ–ãƒ©ãƒ³ãƒæ§‹æˆã¨å½¹å‰²

### masterãƒ–ãƒ©ãƒ³ãƒï¼ˆæœ¬ç•ªç’°å¢ƒï¼‰

* [ã‚„ã¿ã™ããƒ¼](https://yami.ski/)ã®å®‰å®šé‹ç”¨ç‰ˆã¨ã—ã¦ä½ç½®ã¥ã‘
* ãƒãƒ¼ã‚¸ãƒ§ãƒ³åã«ã¯ã€Œyamiã€ï¼ˆã‚„ã¿ã€é—‡ï¼‰ã‚’ä½¿ç”¨ï¼ˆä¾‹: 2025.1.0-yami-1.4.3ï¼‰
* Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¯GitHub Actionsã§ãƒ“ãƒ«ãƒ‰ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³åã‚¿ã‚°[Dockerã‚¤ãƒ¡ãƒ¼ã‚¸](https://hub.docker.com/r/yamisskey/yamisskey/tags)ã‚’pull
* Misskeyã®æ–°æ©Ÿèƒ½ã¯ã€ã‚„ã¿ã™ããƒ¼ã®ã‚³ãƒ³ã‚»ãƒ—ãƒˆï¼ˆãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼é‡è¦–ã€å¿ƒç†çš„å®‰å…¨é‡è¦–ï¼‰ã«åˆè‡´ã™ã‚‹ã‚‚ã®ã ã‘ã‚’é¸æŠçš„ã«å–ã‚Šå…¥ã‚Œã‚‹
* æœ¬ç•ªç’°å¢ƒã§ã®å®‰å®šã—ãŸé‹ç”¨ã‚’é‡è¦–

### nayamiãƒ–ãƒ©ãƒ³ãƒï¼ˆãƒ†ã‚¹ãƒˆç’°å¢ƒï¼‰

* [ãªã‚„ã¿ã™ããƒ¼](https://na.yami.ski/)ã¯ãƒ†ã‚¹ãƒˆç‰ˆã¨ã—ã¦ä½ç½®ã¥ã‘
* é–‹ç™ºå®Œäº†ã—ãŸæ©Ÿèƒ½ã®æ¤œè¨¼ç”¨
* Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¯GitHub Actionsã§ãƒ“ãƒ«ãƒ‰ã€nayamiã‚¿ã‚°[Dockerã‚¤ãƒ¡ãƒ¼ã‚¸](https://hub.docker.com/r/yamisskey/yamisskey/tags)ã‚’pull
* ãƒãƒ¼ã‚¸ãƒ§ãƒ³åã«ã¯ã€Œnayamiã€ï¼ˆãªã‚„ã¿ã€æ‚©ã¿ï¼‰ã‚’ä½¿ç”¨ï¼ˆä¾‹: 2025.1.0-nayami-1.4.3ï¼‰
* æœ¬ç•ªç’°å¢ƒã¸ã®åæ˜ å‰ã®æœ€çµ‚æ¤œè¨¼ã‚’è¡Œã†å ´æ‰€
* ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®åé›†ã‚‚è¡Œã†

### muyamiãƒ–ãƒ©ãƒ³ãƒï¼ˆé–‹ç™ºç’°å¢ƒï¼‰

* é–‹ç™ºå°‚ç”¨ç’°å¢ƒã¨ã—ã¦ä½ç½®ã¥ã‘
* ã‚µãƒ¼ãƒãƒ¼å¸¸é§ãªã—ã§é–‹ç™ºè€…ã®ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§å‹•ä½œ
* `git pull`ã§åæ˜ ã‚’å–ã‚Šè¾¼ã‚“ã§ã€Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æ¯å›ãƒ­ãƒ¼ã‚«ãƒ«ãƒ“ãƒ«ãƒ‰
* ãƒãƒ¼ã‚¸ãƒ§ãƒ³åã«ã¯ã€Œmuyamiã€ï¼ˆã‚€ã‚„ã¿ã€ç„¡æš—ï¼‰ã‚’ä½¿ç”¨ï¼ˆä¾‹: 2025.1.0-muyami-1.4.3ï¼‰
* æ–°æ©Ÿèƒ½é–‹ç™ºã‚„å®Ÿé¨“çš„ãªæ©Ÿèƒ½ã®å®Ÿè£…ã«ä½¿ç”¨
* è‡ªç”±ãªé–‹ç™ºã¨ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¿ƒé€²

## 1. é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å¿…è¦ãªç’°å¢ƒ

* Node.js
* pnpm
* Git (2.15ä»¥é™ã€git worktreeå¯¾å¿œ)

### æ¨å¥¨é–‹ç™ºç’°å¢ƒ

* Visual Studio Code
* Docker
* devcontainer (Claude CodeãŒè¨­å®šæ¸ˆã¿)

### ãƒªãƒã‚¸ãƒˆãƒªã®æº–å‚™

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/yamisskey-dev/yamisskey.git
cd yamisskey

# ãƒªãƒ¢ãƒ¼ãƒˆã®ç¢ºèªã¨è¿½åŠ 
git remote -v
git remote add upstream https://github.com/misskey-dev/misskey.git

# æœ€æ–°çŠ¶æ…‹ã¸ã®æ›´æ–°
git fetch --all --prune --tags
```

### Git Worktreeã«ã‚ˆã‚‹ç’°å¢ƒæ§‹ç¯‰

yamisskeyã§ã¯ã€git worktreeã‚’ä½¿ç”¨ã—ã¦è¤‡æ•°ã®ãƒ–ãƒ©ãƒ³ãƒã‚’åŒæ™‚ã«ç®¡ç†ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ–ãƒ©ãƒ³ãƒåˆ‡ã‚Šæ›¿ãˆæ™‚ã®å†ãƒ“ãƒ«ãƒ‰ã‚’é¿ã‘ã€åŠ¹ç‡çš„ãªé–‹ç™ºãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

```bash
# ãƒ¡ã‚¤ãƒ³ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ
# yamisskey/           (ãƒ¡ã‚¤ãƒ³ãƒªãƒã‚¸ãƒˆãƒªã€masterãƒ–ãƒ©ãƒ³ãƒ)
# yamisskey-nayami/    (ãƒ†ã‚¹ãƒˆç’°å¢ƒç”¨worktree)
# yamisskey-muyami/    (é–‹ç™ºç’°å¢ƒç”¨worktree)

# nayamiãƒ–ãƒ©ãƒ³ãƒç”¨ã®worktreeä½œæˆ
git worktree add ../yamisskey-nayami nayami

# muyamiãƒ–ãƒ©ãƒ³ãƒç”¨ã®worktreeä½œæˆ
git worktree add ../yamisskey-muyami muyami

# worktreeã®ç¢ºèª
git worktree list
```

#### å„worktreeã§ã®åˆæœŸè¨­å®š

```bash
# nayamiç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
cd ../yamisskey-nayami
pnpm install
pnpm build
pnpm build-misskey-js-with-types

# muyamiç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
cd ../yamisskey-muyami
pnpm install
pnpm build
pnpm build-misskey-js-with-types
```

## 2. æ–°ã—ã„é–‹ç™ºãƒ•ãƒ­ãƒ¼

### git worktreeã®ãƒ¡ãƒªãƒƒãƒˆ
- è¤‡æ•°ãƒ–ãƒ©ãƒ³ãƒã‚’åŒæ™‚ã«ç®¡ç†ã§ãã‚‹
- ãƒ–ãƒ©ãƒ³ãƒåˆ‡ã‚Šæ›¿ãˆæ™‚ã®å†ãƒ“ãƒ«ãƒ‰ä¸è¦
- å„ç’°å¢ƒã®ä¾å­˜é–¢ä¿‚ãŒç‹¬ç«‹

#### 1. æ–°æ©Ÿèƒ½é–‹ç™ºï¼ˆmuyamiãƒ–ãƒ©ãƒ³ãƒï¼‰

```bash
# muyami worktreeã«ç§»å‹•
cd ../yamisskey-muyami

# æœ€æ–°ã®å¤‰æ›´ã‚’å–å¾—
git pull origin muyami

# æ©Ÿèƒ½ã”ã¨ã®ãƒˆãƒ”ãƒƒã‚¯ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
git checkout -b feat/æ–°æ©Ÿèƒ½å
```

#### 2. é–‹ç™ºä½œæ¥­

```bash
# muyami worktreeã§ä½œæ¥­
cd ../yamisskey-muyami

# å¤‰æ›´ã®å®Ÿæ–½
# ...ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä½œæ¥­...

# å¤‰æ›´ã®ç¢ºèªã¨ãƒ†ã‚¹ãƒˆï¼ˆæ—¢ã«ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ã®ç’°å¢ƒã‚’åˆ©ç”¨ï¼‰
pnpm dev

# å¿…è¦ã«å¿œã˜ã¦å†ãƒ“ãƒ«ãƒ‰
pnpm build
pnpm migrate

# å¤‰æ›´ã®ã‚³ãƒŸãƒƒãƒˆ
git add .
git commit -m "feat: æ©Ÿèƒ½ã®èª¬æ˜"
```

#### 3. muyamiãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒãƒ¼ã‚¸

```bash
# muyami worktreeå†…ã§ä½œæ¥­ç¶™ç¶š
cd ../yamisskey-muyami

# muyamiãƒ–ãƒ©ãƒ³ãƒã«æˆ»ã‚‹
git checkout muyami

# é–‹ç™ºã—ãŸæ©Ÿèƒ½ã‚’ãƒãƒ¼ã‚¸
git merge feat/æ–°æ©Ÿèƒ½å

# muyamiãƒ–ãƒ©ãƒ³ãƒã®æ›´æ–°ã‚’ãƒªãƒ¢ãƒ¼ãƒˆã«åæ˜ 
git push origin muyami
```

#### 4. ãƒ†ã‚¹ãƒˆç’°å¢ƒã¸ã®åæ˜ ï¼ˆnayamiãƒ–ãƒ©ãƒ³ãƒï¼‰

```bash
# nayami worktreeã«ç§»å‹•
cd ../yamisskey-nayami

# æœ€æ–°ã®å¤‰æ›´ã‚’å–å¾—
git pull origin nayami

# é–‹ç™ºå®Œäº†ã—ãŸæ©Ÿèƒ½ã‚’ãƒãƒ¼ã‚¸
git merge muyami

# package.jsonã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°ï¼ˆmuyami â†’ nayamiï¼‰
# ã‚¨ãƒ‡ã‚£ã‚¿ã§package.jsonã‚’é–‹ãã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³åã‚’å¤‰æ›´

# å¿…è¦ã«å¿œã˜ã¦ãƒ“ãƒ«ãƒ‰
pnpm build

# ãƒ†ã‚¹ãƒˆç’°å¢ƒã¸ã®åæ˜ 
git push origin nayami
```

#### 5. æœ¬ç•ªç’°å¢ƒã¸ã®åæ˜ ï¼ˆmasterãƒ–ãƒ©ãƒ³ãƒï¼‰

```bash
# ãƒ¡ã‚¤ãƒ³ãƒªãƒã‚¸ãƒˆãƒªï¼ˆmasterï¼‰ã«ç§»å‹•
cd ../yamisskey

# æœ€æ–°ã®å¤‰æ›´ã‚’å–å¾—
git pull origin master

# ãƒ†ã‚¹ãƒˆæ¸ˆã¿æ©Ÿèƒ½ã‚’ãƒãƒ¼ã‚¸
git merge nayami

# package.jsonã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°ï¼ˆnayami â†’ yamiï¼‰
# ã‚¨ãƒ‡ã‚£ã‚¿ã§package.jsonã‚’é–‹ãã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³åã‚’å¤‰æ›´

# å¿…è¦ã«å¿œã˜ã¦ãƒ“ãƒ«ãƒ‰
pnpm build

# æœ¬ç•ªç’°å¢ƒã¸ã®åæ˜ 
git push origin master
```

## 3. ä»–ãƒ•ã‚©ãƒ¼ã‚¯ã‹ã‚‰æ©Ÿèƒ½ã‚’cherry-pick

### æº–å‚™ä½œæ¥­

```bash
# é–‹ç™ºç’°å¢ƒã®worktreeã§ä½œæ¥­
cd ../yamisskey-muyami

# ä»–ãƒ•ã‚©ãƒ¼ã‚¯ã‚’ãƒªãƒ¢ãƒ¼ãƒˆã«è¿½åŠ 
git remote add misskey-fork-name https://github.com/misskey-fork-org-name/misskey-fork-name.git
git fetch --all
```

### ãƒã‚§ãƒªãƒ¼ãƒ”ãƒƒã‚¯

```bash
# muyami worktreeã§å®Ÿè¡Œ
cd ../yamisskey-muyami
git cherry-pick ã‚³ãƒŸãƒƒãƒˆID
```

## 4. ã‚¢ãƒƒãƒ—ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‹ã‚‰ã®å¤‰æ›´å–ã‚Šè¾¼ã¿

### æº–å‚™ä½œæ¥­

1. package.jsonã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°ç¢ºèª

```json
{
  "name": "misskey",
  "version": "2025.1.0-yami-1.4.3",  // masterãƒ–ãƒ©ãƒ³ãƒã§ã¯-yamiã‚’ä½¿ç”¨
  // nayamiãƒ–ãƒ©ãƒ³ãƒã§ã¯ "2025.1.0-nayami-1.4.3" ã‚’ä½¿ç”¨
  // muyamiãƒ–ãƒ©ãƒ³ãƒã§ã¯ "2025.1.0-muyami-1.4.3" ã‚’ä½¿ç”¨
  "repository": {
    "url": "https://github.com/yamisskey-dev/yamisskey.git"
  }
}
```

2. ç¾åœ¨ã®çŠ¶æ…‹ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—

```bash
# å„worktreeã§ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
cd ../yamisskey-muyami
git branch backup/[ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³] muyami

cd ../yamisskey-nayami
git branch backup/[ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³] nayami

cd ../yamisskey
git branch backup/[ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³] master
```

### ãƒãƒ¼ã‚¸ãƒ—ãƒ­ã‚»ã‚¹

#### 1. é–‹ç™ºãƒ–ãƒ©ãƒ³ãƒï¼ˆmuyamiï¼‰ã¸ã®å¤‰æ›´å–ã‚Šè¾¼ã¿

```bash
# muyami worktreeã§ä½œæ¥­
cd ../yamisskey-muyami

# ä¸Šæµã®å¤‰æ›´ã‚’å–å¾—
git fetch upstream --tags --prune

# ãƒãƒ¼ã‚¸å®Ÿè¡Œ
git merge --no-ff --no-edit -S <tag-name>
```

â€»ãƒªã‚«ãƒãƒªæ–¹æ³•
```bash
git add -A && git commit -m "upstream: resolve conflicts for <tag-name>"
git log --merges --oneline -n 3
git revert -m 1 <merge-commit-sha>
```

#### 2. ãƒ†ã‚¹ãƒˆç’°å¢ƒï¼ˆnayamiï¼‰ã¸ã®åæ˜ 

```bash
# nayami worktreeã§ä½œæ¥­
cd ../yamisskey-nayami

# muyamiã®å¤‰æ›´ã‚’ãƒãƒ¼ã‚¸
git merge muyami

# ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆ
pnpm build

# ãƒªãƒ¢ãƒ¼ãƒˆã¸åæ˜ 
git push origin nayami
```

#### 3. æœ¬ç•ªç’°å¢ƒï¼ˆmasterï¼‰ã¸ã®åæ˜ 

##### äº‹å‰æº–å‚™

- `DIFFERENCE.md`ã®Unreleasedé …ç›®ã«å¤‰æ›´ç‚¹ã‚’æ˜è¨˜
- `package.json`ã®versionãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆ

##### ãƒªãƒªãƒ¼ã‚¹PRä½œæˆ

- GitHubã§[Release Manager Dispatch](https://github.com/yamisskey-dev/yamisskey/actions/workflows/release-with-dispatch.yml)ã‚’nayamiãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰æ‰‹å‹•å®Ÿè¡Œ
- `DIFFERENCE.md`ã®Unreleasedé …ç›®ãŒãƒãƒ¼ã‚¸ãƒ§ãƒ³åã«ä¸Šæ›¸ãã•ã‚Œã‚‹
- è‡ªå‹•çš„ã«nayamiâ†’masterã®ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒä½œæˆã•ã‚Œã‚‹

##### ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ±º

- PRã§`package.json`ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãŒç™ºç”Ÿ
- ğŸ¯ "Create a new branch and commit updates" ã‚’é¸æŠ
- ãƒ–ãƒ©ãƒ³ãƒå: release/v2025.7.0-yami-1.9.11 ï¼ˆå¯¾è±¡ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«åˆã‚ã›ã¦èª¿æ•´ï¼‰
- versionã‚’æ­£ã—ã„yamiå½¢å¼ï¼ˆä¾‹ï¼š"2025.7.0-yami-1.9.11"ï¼‰ã«ç·¨é›†
- ã‚³ãƒŸãƒƒãƒˆå¾Œã€PRãŒè‡ªå‹•æ›´æ–°ã•ã‚Œã‚‹

ğŸ”§ ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ±ºã®è©³ç´°æ‰‹é †
> 1. PRç”»é¢ã§ "Resolve conflicts" ã‚’ã‚¯ãƒªãƒƒã‚¯
> 2. package.json ã‚’ç·¨é›†:
>   "version": "2025.7.0-yami-1.9.11"
> 3. â­ "Create a new branch and commit updates" ã‚’é¸æŠ
> 4. ãƒ–ãƒ©ãƒ³ãƒå: release/v2025.7.0-yami-1.9.11
> 5. "Commit changes" ã‚’ã‚¯ãƒªãƒƒã‚¯
> 6. PRãŒè‡ªå‹•æ›´æ–°ã•ã‚Œã€ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ±ºå®Œäº†

##### æœ€çµ‚ç¢ºèªã¨ãƒãƒ¼ã‚¸

- è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼
- CIãƒã‚§ãƒƒã‚¯ã®å®Œäº†ã‚’ç¢ºèª
- ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ‰¿èªã—ã¦ãƒãƒ¼ã‚¸

##### è‡ªå‹•ãƒªãƒªãƒ¼ã‚¹

- ãƒãƒ¼ã‚¸å¾Œã€[release-on-merge.yml](http://github.com/yamisskey-dev/yamisskey/actions/workflows/release-on-merge.yml)ãŒè‡ªå‹•å®Ÿè¡Œ
- masterãƒ–ãƒ©ãƒ³ãƒã®GitHub ReleaseãŒè‡ªå‹•ä½œæˆ
- masterãƒ–ãƒ©ãƒ³ãƒã®Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ãŒè‡ªå‹•ç”Ÿæˆãƒ»å…¬é–‹

## 5. ãƒªãƒªãƒ¼ã‚¹ç®¡ç†

### ãƒªãƒªãƒ¼ã‚¹ã‚¿ã‚°ã®ä½œæˆ

```bash
# ãƒ¡ã‚¤ãƒ³ãƒªãƒã‚¸ãƒˆãƒªï¼ˆmasterï¼‰ã§ä½œæ¥­
cd ../yamisskey

# ã‚¿ã‚°ä½œæˆ
git tag -a '[æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³]' -m "Release [æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³]"
git push origin --tags
```

### å„ç’°å¢ƒã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†

* master: 2025.1.0-yami-x.x.x
* nayami: 2025.1.0-nayami-x.x.x
* muyami: 2025.1.0-muyami-x.x.x

### Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã®è‡ªå‹•ãƒ“ãƒ«ãƒ‰

- masterãƒ–ãƒ©ãƒ³ãƒã¯GitHubã§ãƒªãƒªãƒ¼ã‚¹å¾Œãƒ“ãƒ«ãƒ‰
- nayamiãƒ–ãƒ©ãƒ³ãƒã¯pushã™ã‚‹ãŸã³ã«è‡ªå‹•ãƒ“ãƒ«ãƒ‰
- muyamiãƒ–ãƒ©ãƒ³ãƒã¯é–‹ç™ºç”¨ãªã®ã§è‡ªå‹•ãƒ“ãƒ«ãƒ‰ãªã—

## 6. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Git Worktreeé–¢é€£ã®å•é¡Œ

#### worktreeã®å‰Šé™¤ã¨å†ä½œæˆ

```bash
# worktreeã®å‰Šé™¤
git worktree remove ../yamisskey-muyami

# å¼·åˆ¶å‰Šé™¤ï¼ˆå¤‰æ›´ãŒã‚ã‚‹å ´åˆï¼‰
git worktree remove --force ../yamisskey-muyami

# worktreeã®å†ä½œæˆ
git worktree add ../yamisskey-muyami muyami
```

#### worktreeã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

```bash
# ä¸è¦ã«ãªã£ãŸworktreeã®æƒ…å ±ã‚’å‰Šé™¤
git worktree prune

# worktreeã®çŠ¶æ…‹ç¢ºèª
git worktree list
```

### ãƒãƒ¼ã‚¸å¤±æ•—æ™‚ã®å¯¾å¿œ

```bash
# è©²å½“worktreeã§å®Ÿè¡Œ
# ãƒãƒ¼ã‚¸ã®ä¸­æ–­
git merge --abort

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ã®å¾©å¸°
git checkout backup/[ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³]
```

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

* **worktreeé–“ã§ã®node_moduleså…±æœ‰ã‚¨ãƒ©ãƒ¼**
  * å„worktreeã§ç‹¬ç«‹ã—ã¦ `pnpm install` ã‚’å®Ÿè¡Œ
  * `.gitignore` ã«node_modulesãŒå«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª

* **worktreeã§ã®ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼**
  * è©²å½“worktreeã§ `pnpm cleanall` â†’ `pnpm install` ã®å†å®Ÿè¡Œ
  * ãƒ“ãƒ«ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã‚¯ãƒªã‚¢: `rm -rf built/`

* **ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼** â†’ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ç¢ºèª
* **ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆ** â†’ å„ªå…ˆé †ä½ã«å¾“ã£ã¦è§£æ±º
* **ãƒ–ãƒ©ãƒ³ãƒã®æ··ä¹±** â†’ `git worktree list` ã§ç¾åœ¨åœ°ã‚’ç¢ºèª

## 7. ãƒ–ãƒ©ãƒ³ãƒä¿è­·ãƒ«ãƒ¼ãƒ«

### masterãƒ–ãƒ©ãƒ³ãƒã®ä¿è­·è¨­å®š
masterãƒ–ãƒ©ãƒ³ãƒã«ã¯ä»¥ä¸‹ã®ä¿è­·ãƒ«ãƒ¼ãƒ«ã‚’è¨­å®šã—ã¦ã„ã¾ã™ï¼š

* **ãƒ–ãƒ©ãƒ³ãƒå‰Šé™¤ã®ç¦æ­¢**ï¼šèª¤ã£ãŸå‰Šé™¤ã‚’é˜²æ­¢ã—ã¾ã™

ã“ã‚Œã‚‰ã®è¨­å®šã«ã‚ˆã‚Šã€æœ¬ç•ªç’°å¢ƒã®å®‰å®šæ€§ã¨å“è³ªã‚’ç¢ºä¿ã—ã¾ã™ã€‚

### nayamiã¨muyamiãƒ–ãƒ©ãƒ³ãƒ
é–‹ç™ºã¨ãƒ†ã‚¹ãƒˆã‚’æŸ”è»Ÿã«è¡Œã†ãŸã‚ã€nayamiã¨muyamiãƒ–ãƒ©ãƒ³ãƒã«ã¯å³æ ¼ãªä¿è­·ãƒ«ãƒ¼ãƒ«ã‚’è¨­ã‘ã¦ã„ã¾ã›ã‚“ã€‚ãŸã ã—ã€ä»¥ä¸‹ã®é‹ç”¨ãƒ«ãƒ¼ãƒ«ã‚’å®ˆã£ã¦ãã ã•ã„ï¼š

* muyamiãƒ–ãƒ©ãƒ³ãƒã§ã®é–‹ç™ºã¯å¿…ãšãƒˆãƒ”ãƒƒã‚¯ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰è¡Œã†
* nayamiãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒãƒ¼ã‚¸ã¯ååˆ†ãªãƒ†ã‚¹ãƒˆå¾Œã«è¡Œã†
* ä»–ã®é–‹ç™ºè€…ã®ä½œæ¥­ã‚’å°Šé‡ã—ã€å¿…è¦ã«å¿œã˜ã¦äº‹å‰ã«é€£çµ¡ã™ã‚‹

## 8. ç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

### GitHub Actionsã®å½¹å‰²
ã‚„ã¿ã™ããƒ¼ã§ã¯å“è³ªç®¡ç†ã®ãŸã‚ã«GitHub Actionsã‚’æ´»ç”¨ã—ã¦ç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆCIï¼‰ã‚’å®Ÿæ–½ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šä»¥ä¸‹ã®ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ï¼š

* ã‚³ãƒ¼ãƒ‰ã®å“è³ªä¿è¨¼ï¼ˆãƒªãƒ³ãƒˆã€å‹ãƒã‚§ãƒƒã‚¯ï¼‰
* è‡ªå‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã«ã‚ˆã‚‹ãƒã‚°ã®æ—©æœŸç™ºè¦‹
* ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã®æ¤œå‡º
* æœ¬ç•ªç’°å¢ƒã¸ã®å®‰å…¨ãªãƒ‡ãƒ—ãƒ­ã‚¤

### ãƒ–ãƒ©ãƒ³ãƒã§ã®CIæ´»ç”¨æ–¹æ³•
* **muyamiãƒ–ãƒ©ãƒ³ãƒï¼ˆé–‹ç™ºç’°å¢ƒï¼‰** - é–‹ç™ºä¸­ã®å¤‰æ›´ãŒåŸºæœ¬çš„ãªå“è³ªåŸºæº–ã‚’æº€ãŸã™ã‹ç¢ºèª
* **nayamiãƒ–ãƒ©ãƒ³ãƒï¼ˆãƒ†ã‚¹ãƒˆç’°å¢ƒï¼‰** - çµ±åˆãƒ†ã‚¹ãƒˆã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
* **masterãƒ–ãƒ©ãƒ³ãƒï¼ˆæœ¬ç•ªç’°å¢ƒï¼‰** - ãƒªãƒªãƒ¼ã‚¹å‰ã®æœ€çµ‚æ¤œè¨¼

### ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®CI
ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹ã¨è‡ªå‹•çš„ã«CIãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ä»¥ä¸‹ã«æ³¨æ„ã—ã¦ãã ã•ã„ï¼š
* ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ãŸå ´åˆã¯ã€ã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£ã—ã¦ã‹ã‚‰å†åº¦ãƒ—ãƒƒã‚·ãƒ¥ã—ã¦ãã ã•ã„
* ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãŒé€šéã™ã‚‹ã¾ã§masterãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒãƒ¼ã‚¸ã¯è¡Œã‚ãªã„ã§ãã ã•ã„

## 9. ç”ŸæˆAIåˆ©ç”¨ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### åŸºæœ¬æ–¹é‡
å‚å…¥æ¨é€²ã¨é–‹ç™ºåŠ¹ç‡ã¨å“è³ªå‘ä¸Šã®ãŸã‚ã€ç”ŸæˆAIãƒ„ãƒ¼ãƒ«ã®æ´»ç”¨ã‚’è¨±å¯ã—ã¾ã™ã€‚

### åˆ©ç”¨å¯èƒ½ãªAIãƒ„ãƒ¼ãƒ«

#### é–‹ç™ºç’°å¢ƒã§ã®åˆ©ç”¨
* **Claude Code**: devcontainerã«äº‹å‰è¨­å®šæ¸ˆã¿ã€ã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã«æ´»ç”¨
* **Cursor**: AIæ”¯æ´æ©Ÿèƒ½ä»˜ãã‚³ãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿ã¨ã—ã¦åˆ©ç”¨å¯èƒ½

#### CIã§ã®AIæ´»ç”¨
* **Pull Requestãƒ¬ãƒ“ãƒ¥ãƒ¼**: Claudeã¨Geminiã«ã‚ˆã‚‹è‡ªå‹•ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼
* **å“è³ªãƒã‚§ãƒƒã‚¯**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã‚„ã‚³ãƒ¼ãƒ‰å“è³ªã®è‡ªå‹•æ¤œå‡º
* **æ”¹å–„ææ¡ˆ**: AIã«ã‚ˆã‚‹æœ€é©åŒ–ææ¡ˆã®è‡ªå‹•ç”Ÿæˆ

### AIã‚’åˆ©ç”¨ã—ãŸé–‹ç™ºæ‰‹æ³•

#### Git Worktreeã¨ã®é€£æºãƒ¡ãƒªãƒƒãƒˆ
* **ä¸¦åˆ—ã‚¿ã‚¹ã‚¯å®Ÿè¡Œ**: Claude Codeã§è¤‡æ•°ã®worktreeã«å¯¾ã—ã¦åŒæ™‚ã«ç•°ãªã‚‹ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œ
* **ç‹¬ç«‹ã—ãŸæ¤œè¨¼ç’°å¢ƒ**: å„worktreeã§AIç”Ÿæˆã‚³ãƒ¼ãƒ‰ã‚’ç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆå¯èƒ½
* **é«˜é€Ÿãªåˆ‡ã‚Šæ›¿ãˆ**: AIãƒ„ãƒ¼ãƒ«ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’åˆ‡ã‚Šæ›¿ãˆãšã«è¤‡æ•°ç’°å¢ƒã§ä½œæ¥­ç¶™ç¶š
* **ãƒãƒ¼ã‚¸å‰ç¢ºèª**: ç•°ãªã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§AIã«ã‚ˆã‚‹å¤‰æ›´ã®å½±éŸ¿ã‚’äº‹å‰ç¢ºèª

### åˆ©ç”¨ä¸Šã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

#### æ³¨æ„äº‹é …
* ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã¯å¿…ãšäººé–“ã«ã‚ˆã‚‹ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å®Ÿæ–½
* ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«é–¢ã‚ã‚‹éƒ¨åˆ†ã¯ç‰¹ã«æ…é‡ã«æ¤œè¨¼
* ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼é–¢é€£æ©Ÿèƒ½ã§ã¯ç”Ÿæˆã‚³ãƒ¼ãƒ‰ã®é©åˆ‡æ€§ã‚’å¿…ãšç¢ºèª
* ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã«é…æ…®ã—ã€è‘—ä½œæ¨©ä¾µå®³ã®ãƒªã‚¹ã‚¯ã‚’å›é¿
* æ©Ÿå¯†æƒ…å ±ã‚’AIãƒ„ãƒ¼ãƒ«ã«å…¥åŠ›ã—ãªã„

#### ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨PR
* AIç”Ÿæˆã®ã‚³ãƒ¼ãƒ‰ã‚’å«ã‚€å ´åˆã€ãã®æ—¨ã‚’æ˜è¨˜ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨
* é‡è¦ãªå¤‰æ›´ã¯AIã®ææ¡ˆå†…å®¹ã‚‚å«ã‚ã¦PRã®èª¬æ˜ã«è¨˜è¼‰

## 10. æ³¨æ„äº‹é …
* é‡è¦ãªå¤‰æ›´å‰ã¯å¿…ãšãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆ
* ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼æ©Ÿèƒ½ã«é–¢ã™ã‚‹å¤‰æ›´ã¯ç‰¹ã«æ…é‡ã«ãƒ†ã‚¹ãƒˆ
* ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¸ã®å½±éŸ¿ã‚’å¿…ãšç¢ºèª
* ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£ã®ä¿®æ­£ã¯å„ªå…ˆã—ã¦å–ã‚Šè¾¼ã¿
* å„ãƒ–ãƒ©ãƒ³ãƒã®å½¹å‰²ã‚’å°Šé‡ã—ã€é©åˆ‡ãªãƒ•ãƒ­ãƒ¼ã§é–‹ç™ºã‚’é€²ã‚ã‚‹
* muyamiï¼ˆé–‹ç™ºï¼‰â†’ nayamiï¼ˆãƒ†ã‚¹ãƒˆï¼‰â†’ masterï¼ˆæœ¬ç•ªï¼‰ã®æµã‚Œã‚’å¾¹åº•
